<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Something something</title>
    <style>
        input:focus {
            outline:none;
        }
        .isinvalid {
            border:2px solid red;
        }
        
    </style>
  </head>

<body>
    <form>
        <label for="name">Enter username (upper and lowercase letters): </label>
        <input type="text" name="name" id="name" required pattern="[A-Za-z]+">
        <button>Submit</button>
      </form>
    <script>
        const nameInput = document.querySelector('input');
        nameInput.addEventListener('input', () => {
        nameInput.setCustomValidity('');
        if(!nameInput.checkValidity())nameInput.classList.add('isinvalid');
        else nameInput.classList.remove('isinvalid');
        });

        nameInput.addEventListener('invalid', () => {
        if (nameInput.value === '') {
            nameInput.setCustomValidity('Enter your username!');
        } else {
            nameInput.setCustomValidity('Usernames can only contain upper and lowercase letters. Try again!');
        }
        //This line is used to raise the custom error message:
        nameInput.reportValidity();
        })
        //Custom function to alert on bad keystroke, more obnoxious than red border:
        // nameInput.addEventListener('keyup',() => {
        //     if(!nameInput.checkValidity()) {
        //         alert("Not valid");
        //         nameInput.value=nameInput.value.slice(0,nameInput.value.length-1)
        //     }
        // });

        //'nameInput.validity' returns a 'ValidityState' dictionary with all the different tests:
        // ValidityState {valueMissing: true, typeMismatch: false, patternMismatch: false, tooLong: false, tooShort: false, â€¦}
        // badInput: false
        // customError: true
        // patternMismatch: false
        // rangeOverflow: false
        // rangeUnderflow: false
        // stepMismatch: false
        // tooLong: false
        // tooShort: false
        // typeMismatch: false
        // valid: false
        // valueMissing: true
        // [[Prototype]]: ValidityState
        
    </script>
</body>

</html>
